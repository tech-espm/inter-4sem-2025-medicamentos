{% extends "layout.html" %}

{% block head %}

  <title>SintoMed • Cuidando da sua saúde</title>
  <meta name="description" content="SintoMed — Cuidando da sua saúde. Teleorientação, triagem de sintomas e agendamentos rápidos." />

  <style>
    /* Hero */
    .hero { 
        padding: 5rem 0 3rem; 
    }
    .hero-title { 
        font-size: clamp(2rem, 4vw + .5rem, 3rem); 
        line-height:1.1; 
    }
    .hero-badge { 
        background: rgba(0,151,167,.12); 
        color: var(--cor-7); 
        font-weight:700; 
        border-radius:999px; 
        padding:.35rem .7rem; 
        display:inline-block; 
    }
    .hero-art img { 
        max-width: 460px; 
        width:100%; filter: 
        drop-shadow(0 20px 40px rgba(0,0,0,.12)); 
    }
    .ribbon { 
        position:absolute; 
        right:-10px; 
        top:14%; 
        transform: rotate(6deg); 
        background: linear-gradient(135deg, var(--cor-3), var(--cor-4)); 
        color:#fff; 
        padding:.45rem .75rem; 
        border-radius:999px; 
        font-weight:800; 
        letter-spacing:.3px; 
        box-shadow: var(--shadow); 
    }

    .card-soft { 
        border: 1px solid #e9eef5; 
        border-radius: var(--radius); 
        box-shadow: var(--shadow); 
    }

    .navbar { 
        backdrop-filter: blur(6px); 
    }

    .separator { 
        height:4px; 
        background: linear-gradient(90deg, var(--cor-2), var(--cor-3)); 
        border-radius:999px; 
        opacity:.7; 
    }
  </style>
{% endblock %}

{% block body %}

<!-- Hero -->
<section class="hero">
    <div class="container">
        <div class="row g-4 align-items-center">
            <div class="col-12 col-lg-6">
                <span class="hero-badge">Cuidando da sua saúde</span>
                <h1 class="hero-title mt-2">Atendimento ágil e humano, <span class="text-secondary">sempre que precisar</span>.</h1>
                <p class="text-secondary-emphasis">Com a <strong>SintoMed</strong>, você acessa triagem inteligente de sintomas, agenda consultas e recebe orientações confiáveis. Tudo em um só lugar.</p>
                <div class="d-flex flex-wrap gap-2 mt-3">
                    <a class="btn btn-primary" href="/triagem">Começar triagem</a>
                    <a class="btn btn-outline-secondary" href="#servicos">Conhecer serviços</a>
                </div>
                <div class="card card-soft mt-3 p-3">
                    <strong>Transparência e segurança:</strong>
                    <p class="mb-0 text-secondary">Seus dados são protegidos e utilizados apenas para finalidades de cuidado à saúde. Leia nossa política de privacidade.</p>
                </div>
            </div>
            <div class="col-12 col-lg-6 position-relative hero-art text-center">
                <span class="ribbon">24h</span>
                <img src="/static/img/logo.png" alt="Símbolo SintoMed" />
            </div>
        </div>
    </div>
</section>

<div class="separator container" aria-hidden="true"></div>

<section id="servicos" class="py-5">
    <div class="container">
        <div class="row justify-content-between align-items-end g-2 mb-3">
            <div class="col">
                <h2 class="h2">Serviços</h2>
                <p class="text-secondary">Soluções pensadas para sua jornada de cuidado — da prevenção ao pós‑consulta.</p>
            </div>
        </div>
        <div class="row g-2">
            <div class="col-12 col-md-6 col-lg-6">
                <div class="card card-soft h-100 p-3">
                    <div class="d-inline-grid place-items-center bg-gradient rounded-3 mb-2 px-3 py-2 text-white" style="--bs-gradient: linear-gradient(135deg, var(--cor-3), var(--cor-4));">2</div>
                    <h3 class="h5">Triagem de sintomas</h3>
                    <p class="text-secondary mb-0">Uma triagem simples que sugere o melhor próximo passo com base nas suas respostas.</p>
                </div>
            </div>
            <div class="col-12 col-md-6 col-lg-6">
                <div class="card card-soft h-100 p-3">
                    <div class="d-inline-grid place-items-center bg-gradient rounded-3 mb-2 px-3 py-2 text-white" style="--bs-gradient: linear-gradient(135deg, var(--cor-3), var(--cor-4));">3</div>
                    <h3 class="h5">Agendamento inteligente</h3>
                    <p class="text-secondary mb-0">Encontre horários e especialidades disponíveis rapidamente — online e presencial.</p>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="py-5" style="background: linear-gradient(90deg, rgba(237,29,36,.07), rgba(81,172,228,.10)); border-top:1px solid #e5eef6; border-bottom:1px solid #e5eef6;">
    <div class="container d-grid d-lg-flex align-items-center justify-content-between gap-3">
        <div>
            <h2 class="h3 m-0">Precisa falar com alguém agora?</h2>
            <p class="text-secondary m-0">Nossa equipe está disponível 24h para orientações iniciais.</p>
        </div>
        <a class="btn btn-primary" href="#contato">Atendimento imediato</a>
    </div>
</section>

<section id="sobre" class="py-5">
<div class="container">
    <div class="row g-4">
    <div class="col-12 col-lg-6">
        <h2 class="h2">Motivações da SintoMed</h2>
        <p class="text-secondary">Unimos tecnologia e humanização para tornar o cuidado em saúde mais acessível, rápido e confiável.</p>
        <div class="row g-3">
        <div class="col-12 col-md-6">
            <div class="card card-soft h-100 p-3">
            <h3 class="h5">Missão</h3>
            <p class="text-secondary mb-0">Empoderar pessoas com informações de qualidade e acesso ágil a profissionais de saúde.</p>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <div class="card card-soft h-100 p-3">
            <h3 class="h5">Valores</h3>
            <p class="text-secondary mb-0">Ética, privacidade, inclusão e excelência clínica no centro de cada interação.</p>
            </div>
        </div>
        </div>
    </div>
    </div>
</div>
</section>

<!-- Contato -->
<section id="contato" class="py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-12 col-lg-7">
                <div class="card card-soft p-3">
                <h2 class="h2">Fale com a gente</h2>
                <form id="contactForm" novalidate>
                    <div class="mb-3">
                    <label class="form-label" for="cNome">Nome</label>
                    <input class="form-control" id="cNome" required>
                    </div>
                    <div class="row g-3">
                    <div class="col">
                        <label class="form-label" for="cEmail">E‑mail</label>
                        <input class="form-control" id="cEmail" type="email" required placeholder="voce@exemplo.com">
                    </div>
                    <div class="col">
                        <label class="form-label" for="cTel">Telefone</label>
                        <input class="form-control" id="cTel" type="tel" placeholder="(11) 90000‑0000">
                    </div>
                    </div>
                    <div class="mt-3">
                    <label class="form-label" for="cMsg">Mensagem</label>
                    <textarea class="form-control" id="cMsg" rows="4" required></textarea>
                    </div>
                    <div class="d-grid d-sm-inline-flex gap-2 mt-3">
                    <button class="btn btn-primary" type="submit">Enviar</button>
                    <button class="btn btn-outline-secondary" type="reset">Limpar</button>
                    </div>
                    <p id="contactMsg" class="mt-2 mb-0 text-success d-none"></p>
                </form>
                </div>
            </div>
            <div class="col-12 col-lg-5">
                <div class="card card-soft p-3 text-center">
                    <img src="static/img/SintoMed.png" alt="Logotipo SintoMed" style="height:300px; width:auto;" class="mx-auto mb-2"/>
                    <p class="text-secondary m-0">Canais 24h • <strong class="text-dark">(11) 99999 - 9999</strong> • atendimento@sintomed.com</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="chat">
    <h1>ChatBot (ChatterBot + Flask)</h1>
    <div id="chat"></div>
    <form id="form">
      <input id="msg" placeholder="Escreva aqui..." autocomplete="off" />
      <button>Enviar</button>
    </form>
</section>

{% endblock %}

{% block script %}

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Lógica de triagem (demo front-end)
    const triageForm = document.getElementById('triageForm');
    const triageMsg = document.getElementById('triageMsg');
    triageForm?.addEventListener('submit', (e) => {
      e.preventDefault();
      const intensidade = document.getElementById('intensidade').value;
      const duracao = document.getElementById('duracao').value;
      let texto = 'Com base nas respostas, sugerimos observar os sintomas e buscar orientação por chat.';
      if (intensidade === 'Forte' || duracao === 'Mais de 1 semana') {
        texto = 'Sugerimos atendimento presencial em breve. Se houver falta de ar, dor intensa ou confusão, procure emergência (SAMU 192).';
      }
      triageMsg.classList.remove('d-none');
      triageMsg.textContent = texto;
    });

    // Contato (demo)
    const contactForm = document.getElementById('contactForm');
    const contactMsg = document.getElementById('contactMsg');
    contactForm?.addEventListener('submit', (e)=>{
      e.preventDefault();
      contactMsg.classList.remove('d-none');
      contactMsg.textContent='Mensagem enviada! Entraremos em contato em breve.';
    });

    const chat = document.getElementById("chat");
    const form = document.getElementById("form");
    const input = document.getElementById("msg");

    function addMsg(text, who){
        const div = document.createElement("div");
        div.className = "row";
        const bubble = document.createElement("div");
        bubble.className = "msg " + (who === "user" ? "user" : "bot");
        bubble.textContent = text;
        div.appendChild(bubble);
        chat.appendChild(div);
        window.scrollTo(0, document.body.scrollHeight);
    }

    form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const text = input.value.trim();
        if(!text) return;
        addMsg(text, "user");
        input.value = "";
        const r = await fetch("/api/chat", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ message: text })
        });
        const data = await r.json();
        addMsg(data.reply, "bot");
    });
  </script>
{% endblock %}
</body>
</html>
